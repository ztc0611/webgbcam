<!doctype html>
<html lang=”en”>
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>webgbcam</title>
	<link rel="stylesheet" href="style.css">
	<link rel="manifest" href="manifest.webmanifest">

	<meta property="og:title" content="webgbcam">
	<meta property="og:description" content="gameboy camera-like experience in your browser!">
</head>
<body>

	<div class="maple-window">
		<div class="maple-window-title"><span>webgbcam v3.2-Z</span></div>
		<div id="camera">
			<canvas id="app-view"></canvas>
			<canvas id="camera-view"></canvas>
			<canvas id="camera-output"></canvas>
			<video id="camera-stream" autoplay playsinline></video>
		</div>
	</div>

	<div class="maple-window centered">
		<input type="image" onclick="setColor(0)" src="icons/0.png" />
		<input type="image" onclick="setColor(1)" src="icons/1.png" />
		<input type="image" onclick="setColor(2)" src="icons/2.png" />
		<input type="image" onclick="setColor(3)" src="icons/3.png" />
		<input type="image" onclick="setColor(4)" src="icons/4.png" />
		<input type="image" onclick="setColor(5)" src="icons/5.png" />
		<input type="image" onclick="setColor(6)" src="icons/6.png" />
		<input type="image" onclick="setColor(7)" src="icons/7.png" />
		<input type="image" onclick="setColor(8)" src="icons/8.png" />
		<input type="image" onclick="setColor(9)" src="icons/9.png" />
		<input type="image" onclick="setColor(10)" src="icons/10.png" />
		<input type="image" onclick="setColor(11)" src="icons/11.png" />
	</div>

	<div class="maple-window centered">
		<p>made by <a href="https://twitter.com/maplesbian">@maplesbian</a> - inspired by christine love's interstellar selfie station</p>

		<p>webgbcam uses <a href="https://github.com/jnordberg/gif.js">gif.js</a><br/>
		you can check the source code on <a href="https://github.com/Lana-chan/webgbcam">github</a>!</p>
			
	</div>

	<div class="maple-window centered" id="output-div"><img id="output" src=""></img></div>

	<script>
		function setColor(n){
			currentPalette = n;
		}
	</script>

	<div id="gif-preview" class="maple-window modal hidden">
		<div class="maple-window-title"><span>gif preview</span></div>
		<img id="gif-img" src="loading.gif"/>
		<div id="gif-buttons" class="hidden">
			<button type="button" onclick="downloadGif();">yes!!!</button>
			<button class="right" type="button" onclick="resetGifModal();">no!!!</button>
		</div>
	</div>
	
	<div class="hidden">
		<img src="ui-main.png" id="ui-main" />
		<img src="ui-settings.png" id="ui-settings" />
		<img src="ui-capture.png" id="ui-capture" />
		<img src="ui-hidden.png" id="ui-hidden" />
		<img src="ui-timer.png" id="ui-timer" />
		<img src="ui-record.png" id="ui-record" />
	</div>

	<script type="text/javascript" src="gifjs/gif.js"></script>
	<script src="app.js"></script>
	<script>
	if('serviceWorker' in navigator) {
		navigator.serviceWorker
						.register('sw.js', {scope: './'})
						.then(function(registration) {
							// Registration was successful
							console.log('ServiceWorker registration successful with scope: ', registration.scope);
						}, function(err) {
							// registration failed :(
							console.log('ServiceWorker registration failed: ', err);
						});
	}
	</script>
</body>
</html>